(this.webpackJsonpfront=this.webpackJsonpfront||[]).push([[0],{38:function(t,e,n){},63:function(t,e,n){"use strict";n.r(e);var c=n(0),a=n(1),r=n.n(a),s=n(31),i=n.n(s),o=(n(38),n(3)),l=n(5),u=function(t){return Object(c.jsx)("div",{className:"Navbar",children:Object(c.jsxs)("nav",{className:"navbar navbar-expand-lg primary-color ",children:[Object(c.jsxs)("a",{className:"navbar-brand",children:[Object(c.jsx)("span",{className:"material-icons mr-2",children:"import_contacts"}),Object(c.jsx)("span",{children:"Teach World"})]}),Object(c.jsxs)("ul",{className:"navbar-nav",children:[Object(c.jsx)("li",{className:"nav-item",children:Object(c.jsx)("a",{className:"nav-link",href:"/",children:"Home"})}),Object(c.jsx)("li",{className:"nav-item",children:Object(c.jsx)("a",{className:"nav-link",href:"/post",children:"New post"})})]})]})})},j=n(16),d=n.n(j),b=n(4),m=n.n(b),p=n(11),h=n(12),O=n.n(h),x="http://localhost:4000/api",f={POSTS:"".concat(x,"/posts"),COMMENTS:"".concat(x,"/comments")},v={getByPostId:function(){var t=Object(p.a)(m.a.mark((function t(e){var n;return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,O.a.get("".concat(f.COMMENTS,"/").concat(e));case 2:return n=t.sent,t.abrupt("return",n);case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),delete:function(){var t=Object(p.a)(m.a.mark((function t(e){var n;return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,O.a.delete("".concat(f.COMMENTS,"/").concat(e));case 2:return n=t.sent,t.abrupt("return",n);case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),create:function(){var t=Object(p.a)(m.a.mark((function t(e){var n;return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,O.a.post(f.COMMENTS,e);case 2:return n=t.sent,t.abrupt("return",n);case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},N={get:function(){var t=Object(p.a)(m.a.mark((function t(){var e;return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,O.a.get(f.POSTS);case 2:return e=t.sent,t.abrupt("return",e);case 4:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),getById:function(){var t=Object(p.a)(m.a.mark((function t(e){var n;return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,O.a.get("".concat(f.POSTS,"/").concat(e));case 2:return n=t.sent,t.abrupt("return",n);case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),delete:function(){var t=Object(p.a)(m.a.mark((function t(e){var n;return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,O.a.delete("".concat(f.POSTS,"/").concat(e));case 2:return n=t.sent,t.abrupt("return",n);case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),create:function(){var t=Object(p.a)(m.a.mark((function t(e){var n;return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,O.a.post(f.POSTS,e);case 2:return n=t.sent,t.abrupt("return",n);case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),update:function(){var t=Object(p.a)(m.a.mark((function t(e,n){var c;return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,O.a.put("".concat(f.POSTS,"/").concat(e),n);case 2:return c=t.sent,t.abrupt("return",c);case 4:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()},g=function(t){var e=Object(a.useState)(!1),n=Object(l.a)(e,2),r=n[0],s=n[1],i=Object(a.useState)([]),o=Object(l.a)(i,2),u=o[0],j=o[1],b=Object(a.useState)(""),m=Object(l.a)(b,2),p=m[0],h=m[1];d.a.locale("en"),Object(a.useEffect)((function(){v.getByPostId(t.id).then((function(t){j(t.data)}))}),[]);return Object(c.jsxs)("div",{className:"card mb-2",children:[Object(c.jsxs)("div",{className:"row",children:[Object(c.jsxs)("div",{className:"col-sm-8 row",children:[Object(c.jsx)("div",{className:"col-sm-4 text-center",children:Object(c.jsx)("span",{className:"material-icons avatar-icon",children:"account_circle"})}),Object(c.jsxs)("div",{className:"col-sm-8",children:[Object(c.jsx)("span",{children:t.author}),Object(c.jsx)("br",{}),Object(c.jsx)("span",{children:d()(t.date).format("d MMM YYYY")})]})]}),Object(c.jsxs)("div",{className:"col-sm-4 p-2 text-right",children:[Object(c.jsx)("a",{href:"/editpost/".concat(t.id),type:"button",className:"btn btn-primary btn-sm mr-2",children:"Edit"}),Object(c.jsx)("button",{type:"button",className:"btn btn-danger btn-sm",onClick:function(){N.delete(t.id).then((function(t){alert(t.data.message),window.location="/"}))},children:"Delete"})]})]}),Object(c.jsx)("h5",{className:"card-title p-2",children:t.title}),Object(c.jsx)("p",{className:"card-text p-2 text-justify",children:t.content}),Object(c.jsx)("div",{className:"text-right p-2",children:!1===r?Object(c.jsx)("button",{type:"button",className:"btn btn-success btn-sm",onClick:function(){s(!0)},children:"add comment"}):Object(c.jsx)("button",{type:"button",className:"btn btn-danger btn-sm",onClick:function(){s(!1)},children:"cancel comment"})}),Object(c.jsxs)("div",{className:"card",children:[r?Object(c.jsx)("div",{className:"p-2",children:Object(c.jsxs)("div",{className:"input-group",children:[Object(c.jsx)("input",{type:"text",onChange:function(t){return h(t.target.value)},className:"form-control",placeholder:"Write your comments..."}),Object(c.jsx)("div",{className:"input-group-append",id:"button-addon4",children:Object(c.jsx)("button",{className:"btn btn-success",type:"button",onClick:function(){!function(){var e={comment:p,author:"Anonymous",postId:t.id};v.create(e).then((function(t){alert(t.data.message),window.location="/"}))}()},children:"send"})})]})}):"",Object(c.jsxs)("ul",{className:"list-group list-group-flush",children:[!0===t.limitComments?u.map((function(t,e){return e<3?Object(c.jsxs)("li",{className:"list-group-item",children:[Object(c.jsx)("span",{children:t.comment}),Object(c.jsx)("br",{}),Object(c.jsx)("span",{children:t.author}),Object(c.jsx)("br",{}),Object(c.jsx)("span",{children:d()(t.updatedAt).format("d MMM YYYY")})]},e):""})):u.map((function(t,e){return Object(c.jsxs)("li",{className:"list-group-item",children:[Object(c.jsx)("span",{children:t.comment}),Object(c.jsx)("br",{}),Object(c.jsx)("span",{children:t.author}),Object(c.jsx)("br",{}),Object(c.jsx)("span",{children:d()(t.updatedAt).format("d MMM YYYY")})]},e)})),Object(c.jsx)("li",{className:"list-group-item text-center",children:!0===t.limitComments?Object(c.jsx)("a",{href:"/viewmore/".concat(t.id),className:"btn btn-info btn-sm",children:"view more..."}):Object(c.jsx)("a",{href:"/",className:"btn btn-primary btn-sm",children:" Back"})})]})]})]})},w=function(){var t=Object(a.useState)([]),e=Object(l.a)(t,2),n=e[0],r=e[1];return Object(a.useEffect)((function(){N.get().then((function(t){r(t.data)}))}),[]),Object(c.jsxs)("div",{className:"Home",children:[Object(c.jsx)(u,{title:"Home"}),Object(c.jsx)("div",{className:"container mt-5",children:Object(c.jsx)("div",{className:"row",children:Object(c.jsx)("div",{className:"col-md-6 offset-md-3 col-sm-12",children:n.map((function(t){return Object(c.jsx)(g,{id:t._id,title:t.title,date:t.updatedAt,author:t.author,content:t.content,limitComments:!0},t._id)}))})})})]})},y=n(13),S=n(17),T=function(t){var e=t.name,n=t.label,a=(t.value,t.inputType),r=t.placeholder;return Object(c.jsx)(y.a,{name:e,render:function(t){var e=t.input,s=t.meta;return Object(c.jsxs)("div",{className:"form-group",children:[Object(c.jsx)("label",{children:n}),"textarea"===a?Object(c.jsx)("textarea",Object(S.a)(Object(S.a)({placeholder:r},e),{},{className:"form-control",rows:"3"})):Object(c.jsx)("input",Object(S.a)(Object(S.a)({},e),{},{placeholder:r,className:"form-control"})),s.touched&&s.error&&Object(c.jsx)("small",{className:"form-text text-danger",children:s.error})]})}})},C=function(t){var e={};return t.title||(e.title="Title is required"),t.content||(e.content="Description is required"),t.author||(e.author="Username is required"),e},k=function(){var t=Object(a.useState)(!1),e=Object(l.a)(t,2),n=e[0],r=e[1],s=Object(a.useState)(""),i=Object(l.a)(s,2),j=i[0],d=i[1],b=Object(o.f)();return Object(c.jsxs)("div",{className:"Post",children:[Object(c.jsx)(u,{title:"Post"}),Object(c.jsx)("div",{className:"container mt-5",children:Object(c.jsx)("div",{className:"row",children:Object(c.jsxs)("div",{className:"col-md-6 offset-md-3 col-sm-12",children:[""!==j?Object(c.jsx)("div",{className:"alert alert-success",children:j}):"",Object(c.jsx)("h3",{children:"New post"}),Object(c.jsx)(y.b,{validate:C,onSubmit:function(t){var e=t.title,n=t.content,c=t.author;r(!0),N.create({title:e,content:n,author:c}).then((function(t){r(!1),d(t.data.message),setInterval((function(){b.push("/")}),2e3)}))},render:function(t){return Object(c.jsxs)("div",{children:[Object(c.jsx)(T,{name:"title",inputType:"text",label:"Title",placeholder:"Title..."}),Object(c.jsx)(T,{name:"content",inputType:"textarea",label:"Content",placeholder:"Content..."}),Object(c.jsx)(T,{name:"author",inputType:"text",label:"Author",placeholder:"Author..."}),Object(c.jsx)("button",{type:"submit",className:"btn btn-success",onClick:t.handleSubmit,disabled:n,children:n?"Creating post...":"Create"})]})}})]})})})]})},M=function(t){var e={};return t.title||(e.title="Title is required"),t.content||(e.content="Description is required"),t.author||(e.author="Username is required"),e},I=function(t){var e=Object(a.useState)(!1),n=Object(l.a)(e,2),r=n[0],s=n[1],i=Object(a.useState)(""),j=Object(l.a)(i,2),d=j[0],b=j[1],m=Object(a.useState)({}),p=Object(l.a)(m,2),h=p[0],O=p[1],x=Object(o.f)(),f=t.match.params;Object(a.useEffect)((function(){N.getById(f.postId).then((function(t){O({title:t.data.title,content:t.data.content,author:t.data.author})}))}),[]);return Object(c.jsxs)("div",{className:"Post",children:[Object(c.jsx)(u,{title:"Post"}),Object(c.jsx)("div",{className:"container mt-5",children:Object(c.jsx)("div",{className:"row",children:Object(c.jsxs)("div",{className:"col-md-6 offset-md-3 col-sm-12",children:[""!==d?Object(c.jsx)("div",{className:"alert alert-success",children:d}):"",Object(c.jsx)("h3",{children:"Edit post"}),Object(c.jsx)(y.b,{initialValues:h,validate:M,onSubmit:function(t){var e=t.title,n=t.content,c=t.author;s(!0),N.update(f.postId,{title:e,content:n,author:c}).then((function(t){s(!1),b(t.data.message),setInterval((function(){x.push("/")}),2e3)}))},render:function(t){return Object(c.jsxs)("div",{children:[Object(c.jsx)(T,{name:"title",inputType:"text",label:"Title",placeholder:"Title..."}),Object(c.jsx)(T,{name:"content",inputType:"textarea",label:"Content",placeholder:"Content..."}),Object(c.jsx)(T,{name:"author",inputType:"text",label:"Author",placeholder:"Author..."}),Object(c.jsx)("button",{type:"submit",className:"btn btn-success",onClick:t.handleSubmit,disabled:r,children:r?"Updating post...":"Update"})]})}})]})})})]})},P=function(t){var e=t.match.params,n=Object(a.useState)([]),r=Object(l.a)(n,2),s=r[0],i=r[1];return Object(a.useEffect)((function(){N.getById(e.postId).then((function(t){i(t.data)}))}),[]),Object(c.jsxs)("div",{className:"ViewMore",children:[Object(c.jsx)(u,{title:"View more"}),Object(c.jsx)("div",{className:"container mt-5",children:Object(c.jsx)("div",{className:"row",children:Object(c.jsx)("div",{className:"col-md-6 offset-md-3 col-sm-12",children:Object(c.jsx)(g,{id:s._id,title:s.title,date:s.updatedAt,author:s.author,content:s.content,limitComments:!1},s._id)})})})]})},Y=function(){return Object(c.jsxs)(o.c,{children:[Object(c.jsx)(o.a,{exact:!0,path:"/",component:w}),Object(c.jsx)(o.a,{exact:!0,path:"/post",component:k}),Object(c.jsx)(o.a,{exact:!0,path:"/editpost/:postId",component:I}),Object(c.jsx)(o.a,{exact:!0,path:"/viewmore/:postId",component:P})]})};var E=function(){return Object(c.jsx)(Y,{})},A=function(t){t&&t instanceof Function&&n.e(3).then(n.bind(null,64)).then((function(e){var n=e.getCLS,c=e.getFID,a=e.getFCP,r=e.getLCP,s=e.getTTFB;n(t),c(t),a(t),r(t),s(t)}))},B=n(14);i.a.render(Object(c.jsx)(r.a.StrictMode,{children:Object(c.jsx)(B.a,{children:Object(c.jsx)(E,{})})}),document.getElementById("root")),A()}},[[63,1,2]]]);
//# sourceMappingURL=main.81502f60.chunk.js.map